---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const menuSections = [
  {
    title: t('menu.appetizers'),
    items: [
      { name: 'Brochetas', price: '$90' },
      { name: 'Guacamole', price: '$100' },
      { name: 'Queso Fundido', price: '$90' },
    ]
  },
  {
    title: t('menu.mainCourses'),
    items: [
      { name: 'Arrachera', price: '$320' },
      { name: 'Rib Eye', price: '$300' },
      { name: 'Salm√≥n al Horno', price: '$210' },
    ]
  },
  {
    title: t('menu.desserts'),
    items: [
      { name: 'Pay de Guayaba', price: '$45' },
      { name: 'Flan', price: '$45' },
      { name: 'Choco Flan', price: '$55' },
    ]
  }
];
---
<section id="menu" class="menu">
  <h2>{t('menu.title')}</h2>
  {menuSections.map(section => (
    <div class="menu-section">
      <h3>{section.title}</h3>
      <ul>
        {section.items.map(item => (
          <li>
            <span class="dish">{item.name}</span>
            <span class="price">{item.price}</span>
          </li>
        ))}
      </ul>
    </div>
  ))}
</section>

<style>
  .menu {
    padding: 2rem;
    text-align: center;
  }
  h2 {
    margin-bottom: 2rem;
    color: var(--text-color);
    font-size: x-large;
  }
  .menu-section {
    margin-bottom: 2rem;
  }
  h3 {
    margin-bottom: 1rem;
    color: var(--text-color);
  }
  ul {
    list-style-type: none;
    padding: 0;
  }
  li {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
  }
  .dish {
    font-weight: bold;
    color: var(--text-color)
  }
  .price {
    color: var(--text-color);
  }
</style>